#!/usr/bin/env node

var program = require('commander');

var reportResults = require(__dirname + '/../report_results');
var pattern = require(__dirname + '/../');

program
  .arguments('[globs...]')
  .action(function(globs) {
    pattern(globs)
      .then(reportResults)
      .then(console.log)
      .catch(function(err) {
        console.log(err);
        console.log(err.stack);
      });
  });

program.parse(process.argv);
